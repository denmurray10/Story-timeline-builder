{% load static %}
<!DOCTYPE html>
<html class="scroll-smooth" lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Story Timeline Builder - Developer UI Specs V1</title>
    <meta content="AI-powered writing platform for storytellers. Plan, draft, and polish your fictional world."
        name="description" />
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link
        href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&amp;family=Inter:wght@300;400;500;600;700&amp;family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400;1,600&amp;display=swap"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#333333", // Dark charcoal for primary buttons/text
                        accent: "#F4EBD9", // Warm highlight
                        "background-light": "#F2F0EB", // Warm grey/beige background from screenshot
                        "background-dark": "#121212", // Deep dark background
                        "surface-light": "#FFFFFF",
                        "surface-dark": "#1E1E1E",
                        "text-light": "#333333",
                        "text-dark": "#E0E0E0",
                        "border-light": "#E5E5E5",
                        "border-dark": "#333333",
                        "green-success": "#4CAF50",
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['DM Serif Display', 'serif'], // For Headlines
                        display: ['Playfair Display', 'serif'], // For italic accents
                    },
                    borderRadius: {
                        DEFAULT: "0.5rem",
                        'xl': '0.75rem',
                        '2xl': '1rem',
                        '3xl': '1.5rem',
                    },
                    boxShadow: {
                        'soft': '0 4px 20px -2px rgba(0, 0, 0, 0.05)',
                        'card': '0 10px 30px -5px rgba(0, 0, 0, 0.08)',
                    }
                },
            },
        };
    </script>
    <style>
        .glass-panel {
            backdrop-filter: blur(8px);
            background: rgba(255, 255, 255, 0.7);
        }

        .dark .glass-panel {
            background: rgba(30, 30, 30, 0.7);
        }

        .h-20 {
            height: 8rem;
        }

        /* Reveal Animations */
        .reveal {
            opacity: 0;
            transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
            will-change: transform, opacity;
        }

        .fade-in {
            transform: translateY(0);
        }

        .slide-up {
            transform: translateY(30px);
        }

        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }

        .delay-100 {
            transition-delay: 100ms;
        }

        .delay-200 {
            transition-delay: 200ms;
        }

        .delay-300 {
            transition-delay: 300ms;
        }

        .delay-400 {
            transition-delay: 400ms;
        }

        /* Nav Padding Scroll Logic */
        nav {
            top: 50px !important;
            transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1) !important;
        }

        nav.scrolled {
            top: 0 !important;
        }

        .dark nav.scrolled {
            top: 0 !important;
        }

        /* Zen Mode Demo Styles */
        #writing-pad-mockup.zen-mode-active #mockup-sidebar {
            display: none !important;
        }

        #writing-pad-mockup.zen-mode-active .flex-1 {
            padding-left: 10%;
            padding-right: 10%;
        }

        /* Relationship Drawer Styles */
        .map-hotspot {
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .map-hotspot:hover {
            transform: scale(1.1);
            background-color: rgba(255, 255, 255, 0.4);
        }
    </style>
</head>

<body
    class="bg-background-light dark:bg-background-dark text-text-light dark:text-text-dark font-sans transition-colors duration-300 antialiased selection:bg-accent selection:text-primary">
    <nav id="main-nav"
        class="fixed w-full z-50 left-0 bg-background-light/90 dark:bg-background-dark/90 backdrop-blur-md border-b border-transparent">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <a href="{% url 'landing_page_v2' %}" class="flex-shrink-0 flex items-center cursor-pointer">
                    <img src="{% static 'img/logo.webp' %}" alt="Story Timeline Builder"
                        style="height: 3.5rem; width: auto;">
                </a>
                <div class="hidden md:flex items-center space-x-8">
                    <a class="text-sm font-medium text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-white transition-colors"
                        href="#">Features</a>
                    <a class="text-sm font-medium text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-white transition-colors"
                        href="#">Pricing</a>
                    <a class="text-sm font-medium text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-white transition-colors"
                        href="#">Resources</a>
                    <a class="bg-primary text-white dark:bg-white dark:text-primary px-5 py-2.5 rounded-full text-sm font-medium hover:opacity-90 transition-opacity shadow-sm"
                        href="{% url 'login' %}">Start Writing</a>
                </div>
                <div class="md:hidden flex items-center">
                    <button class="text-primary dark:text-white p-2">
                        <span class="material-icons-outlined">menu</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>
    <section class="pt-[258px] pb-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col items-center text-center">
            <div
                class="reveal fade-in inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white dark:bg-surface-dark border border-gray-200 dark:border-border-dark shadow-sm mb-8">
                <span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span>
                <span class="text-xs font-semibold tracking-wide uppercase text-gray-500 dark:text-gray-400">v2.0 Now
                    Available</span>
            </div>
            <h1
                class="reveal slide-up delay-100 text-5xl md:text-7xl font-serif text-primary dark:text-white mb-6 leading-tight max-w-4xl mx-auto">
                Contextual Intelligence <br />
                <span class="font-display italic font-normal text-gray-600 dark:text-gray-300">for your fictional
                    world</span>
            </h1>
            <p
                class="reveal slide-up delay-200 text-lg md:text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto mb-10 leading-relaxed">
                Stop juggling scattered notes. Write with an AI partner that understands the deep history, emotional
                arcs, and hidden connections within your story.
            </p>
            <div class="reveal slide-up delay-300 flex flex-col sm:flex-row items-center gap-4 mb-20">
                <a class="bg-primary text-white dark:bg-white dark:text-primary px-8 py-3.5 rounded-full font-medium hover:scale-105 transition-transform duration-200 shadow-md flex items-center gap-2"
                    href="{% url 'login' %}">
                    Start Writing <span class="material-icons-outlined text-sm">arrow_forward</span>
                </a>
                <a class="bg-white dark:bg-surface-dark text-primary dark:text-white border border-gray-200 dark:border-border-dark px-8 py-3.5 rounded-full font-medium hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors shadow-sm flex items-center gap-2"
                    href="#">
                    <span class="material-icons-outlined">play_circle_outline</span> Watch Demo
                </a>
            </div>
            <div class="reveal slide-up delay-400 relative w-full max-w-7xl mx-auto">
                <div class="relative rounded-xl md:rounded-3xl overflow-hidden transform scale-105 md:scale-110">
                    <img src="{% static 'img/hero_mockup.webp' %}" alt="Story Timeline Builder Interface"
                        class="w-full h-auto block">
                </div>
                <div
                    class="absolute -top-10 -left-10 w-40 h-40 bg-yellow-200/50 dark:bg-yellow-600/20 rounded-full blur-3xl -z-10">
                </div>
                <div
                    class="absolute -bottom-10 -right-10 w-60 h-60 bg-purple-200/50 dark:bg-purple-600/20 rounded-full blur-3xl -z-10">
                </div>
            </div>
        </div>
    </section>
    <section class="py-24 bg-white dark:bg-surface-dark relative">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="reveal slide-up text-center mb-16">
                <h2 class="text-4xl md:text-5xl font-serif text-primary dark:text-white mb-4">From Spark to Manuscript
                </h2>
                <p class="text-gray-600 dark:text-gray-400 text-lg max-w-2xl mx-auto">Our structured workflow guides you
                    through the creative process without stifling your voice.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Card 1 -->
                <div class="reveal slide-up delay-100 group relative">
                    <div
                        class="absolute -inset-0.5 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-2xl opacity-0 group-hover:opacity-15 transition duration-500 blur-xl">
                    </div>
                    <div
                        class="relative bg-background-light dark:bg-background-dark p-8 rounded-2xl border border-gray-100 dark:border-gray-800 hover:border-yellow-200 dark:hover:border-yellow-900/50 transition-all duration-300 h-full">
                        <div
                            class="w-14 h-14 rounded-2xl bg-white dark:bg-surface-dark flex items-center justify-center text-yellow-600 mb-6 shadow-sm group-hover:scale-110 group-hover:rotate-3 transition-transform duration-300">
                            <span class="material-icons-outlined text-3xl">lightbulb</span>
                        </div>
                        <h3 class="text-xl font-bold text-primary dark:text-white mb-3 tracking-tight">1. Brainstorm &
                            Map</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm leading-relaxed">
                            Dump your ideas into the Codex. Create character profiles, world-building notes, and
                            drag-and-drop your plot points onto the timeline.
                        </p>
                    </div>
                </div>

                <!-- Card 2 -->
                <div class="reveal slide-up delay-200 group relative">
                    <div
                        class="absolute -inset-0.5 bg-gradient-to-r from-blue-400 to-indigo-500 rounded-2xl opacity-0 group-hover:opacity-15 transition duration-500 blur-xl">
                    </div>
                    <div
                        class="relative bg-background-light dark:bg-background-dark p-8 rounded-2xl border border-gray-100 dark:border-gray-800 hover:border-blue-200 dark:hover:border-blue-900/50 transition-all duration-300 h-full">
                        <div
                            class="w-14 h-14 rounded-2xl bg-white dark:bg-surface-dark flex items-center justify-center text-blue-600 mb-6 shadow-sm group-hover:scale-110 group-hover:-rotate-3 transition-transform duration-300">
                            <span class="material-icons-outlined text-3xl">architecture</span>
                        </div>
                        <h3 class="text-xl font-bold text-primary dark:text-white mb-3 tracking-tight">2. Outline &
                            Structure</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm leading-relaxed">
                            Convert your timeline into chapter beats. The AI checks for pacing issues and ensures your
                            plot arcs resolve satisfactorily.
                        </p>
                    </div>
                </div>

                <!-- Card 3 -->
                <div class="reveal slide-up delay-300 group relative">
                    <div
                        class="absolute -inset-0.5 bg-gradient-to-r from-green-400 to-emerald-500 rounded-2xl opacity-0 group-hover:opacity-15 transition duration-500 blur-xl">
                    </div>
                    <div
                        class="relative bg-background-light dark:bg-background-dark p-8 rounded-2xl border border-gray-100 dark:border-gray-800 hover:border-green-200 dark:hover:border-green-900/50 transition-all duration-300 h-full">
                        <div
                            class="w-14 h-14 rounded-2xl bg-white dark:bg-surface-dark flex items-center justify-center text-green-600 mb-6 shadow-sm group-hover:scale-110 group-hover:rotate-3 transition-transform duration-300">
                            <span class="material-icons-outlined text-3xl">auto_stories</span>
                        </div>
                        <h3 class="text-xl font-bold text-primary dark:text-white mb-3 tracking-tight">3. Draft & Polish
                        </h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm leading-relaxed">
                            Write in our distraction-free editor. Stuck? Ask the Ghostwriter to describe a setting or
                            suggest dialogue based on your character's voice.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="py-12 bg-white dark:bg-surface-dark">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col items-center">
            <div class="reveal fade-in relative w-full">
                <div
                    class="relative rounded-xl md:rounded-3xl overflow-hidden shadow-xl border border-gray-100 dark:border-gray-800 group">
                    <img src="{% static 'img/relationship_map_figma.webp' %}" alt="Relationship Map Interface"
                        class="w-full h-auto block">

                    <!-- Agnes Temple Hotspot Overlay -->
                    <div id="agnes-hotspot"
                        class="map-hotspot absolute top-[47.5%] left-[21.7%] flex flex-col items-center gap-1 z-10"
                        title="Click for Profile">
                        <div
                            class="w-12 h-12 rounded-full border-2 border-white/50 bg-accent dark:bg-yellow-900/40 flex items-center justify-center overflow-hidden shadow-lg relative">
                            <img src="{% static 'img/Agnes.png' %}" alt="Agnes Temple Profile"
                                class="w-full h-full object-cover">
                            <span
                                class="absolute -top-1 -right-1 w-3 h-3 bg-white rounded-full animate-ping opacity-75"></span>
                        </div>
                        <span
                            class="bg-black/60 backdrop-blur-sm text-white text-[10px] px-2 py-0.5 rounded-full font-medium whitespace-nowrap shadow-sm">Agnes
                            Temple</span>
                    </div>

                    <!-- Connection Line: Agnes to Lucius -->
                    <svg class="absolute pointer-events-none overflow-visible"
                        style="top: calc(47.5% - 70px + 30px); left: calc(21.7% + 34px); width: 150px; height: 80px; z-index: 5;">
                        <defs>
                            <marker id="arrowhead" markerWidth="6" markerHeight="4" refX="6" refY="2" orient="auto">
                                <polygon points="0 0, 6 2, 0 4" fill="#FACC15" />
                            </marker>
                        </defs>
                        <!-- Straight Line Segment 1: Agnes side -->
                        <path d="M 0 75 L 70 38" stroke="#FACC15" stroke-width="3" fill="none" opacity="0.9" />
                        <!-- Straight Line Segment 2: Lucius side -->
                        <path d="M 110 16 L 143 -2" stroke="#FACC15" stroke-width="3" fill="none"
                            marker-end="url(#arrowhead)" opacity="0.9" />
                        <!-- Label shifted further 'up' the line -->
                        <text id="mentor-label" x="90" y="27" text-anchor="middle" alignment-baseline="middle"
                            font-size="7" fill="black"
                            class="font-bold uppercase tracking-[0.2em] cursor-pointer hover:fill-blue-600 transition-colors pointer-events-auto"
                            transform="rotate(-28.3, 90, 27)">
                            Mentor
                        </text>
                    </svg>

                    <!-- Lucius Temple Hotspot Overlay -->
                    <div id="lucius-hotspot" class="map-hotspot absolute flex flex-col items-center gap-1 z-10"
                        style="top: calc(47.5% - 80px); left: calc(21.7% + 150px);" title="Click for Profile">
                        <div
                            class="w-12 h-12 rounded-full border-2 border-white/50 bg-accent dark:bg-yellow-900/40 flex items-center justify-center overflow-hidden shadow-lg relative">
                            <img src="{% static 'img/Lucius-Temple.png' %}" alt="Lucius Temple Profile"
                                class="w-full h-full object-cover">
                            <span
                                class="absolute -top-1 -right-1 w-3 h-3 bg-white rounded-full animate-ping opacity-75"></span>
                        </div>
                        <span
                            class="bg-black/60 backdrop-blur-sm text-white text-[10px] px-2 py-0.5 rounded-full font-medium whitespace-nowrap shadow-sm">Lucius
                            Temple</span>
                    </div>
                </div>
                <!-- Background Glows -->
                <div
                    class="absolute -top-10 -right-10 w-40 h-40 bg-yellow-200/50 dark:bg-yellow-600/20 rounded-full blur-3xl -z-10">
                </div>
                <div
                    class="absolute -bottom-10 -left-10 w-60 h-60 bg-purple-200/50 dark:bg-purple-600/20 rounded-full blur-3xl -z-10">
                </div>
            </div>
        </div>
    </section>
    <section class="py-24 bg-white dark:bg-surface-dark">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col-reverse md:flex-row items-center gap-16">
                <div class="w-full md:w-1/2">
                    <div class="flex items-center gap-2 mb-4 text-xs font-bold text-blue-500 uppercase tracking-widest">
                        <span class="w-8 h-[1px] bg-blue-500"></span> Deep Focus
                    </div>
                    <h2 class="text-4xl md:text-5xl font-serif text-primary dark:text-white mb-6">Write without
                        Distraction</h2>
                    <p class="text-gray-600 dark:text-gray-400 text-lg mb-8 leading-relaxed">
                        The Minimalist Writing Pad strips away the UI clutter, leaving only you and your words. Need
                        context? A warm, non-intrusive drawer slides out with everything you need.
                    </p>
                    <div class="flex gap-4">
                        <button id="zen-mode-btn"
                            class="bg-primary text-white dark:bg-white dark:text-primary px-6 py-2 rounded-lg text-sm font-medium">Zen
                            Mode</button>
                        <button id="theme-toggle-btn"
                            class="bg-transparent border border-gray-300 dark:border-gray-600 text-primary dark:text-white px-6 py-2 rounded-lg text-sm font-medium hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors">Dark/Light
                            Themes</button>
                    </div>
                </div>
                <div class="w-full md:w-1/2">
                    <div id="writing-pad-mockup"
                        class="bg-background-light dark:bg-background-dark rounded-xl p-4 shadow-lg border border-gray-100 dark:border-gray-700 transition-colors duration-500">
                        <div class="bg-white dark:bg-surface-dark rounded-lg shadow-sm overflow-hidden h-96 flex">
                            <div
                                class="flex-1 p-6 md:p-8 font-serif text-gray-800 dark:text-gray-200 text-sm md:text-base leading-relaxed overflow-y-auto">
                                <div class="flex items-center gap-2 mb-4 opacity-30">
                                    <div class="w-2 h-2 rounded-full bg-gray-400"></div>
                                    <div class="w-2 h-2 rounded-full bg-gray-400"></div>
                                </div>
                                <div class="text-xs text-gray-400 font-sans mb-4 text-center uppercase tracking-widest">
                                    Chapter 4: The Arrival</div>
                                <p class="mb-4">The rain lashed against the cobblestones, turning the narrow streets of
                                    London into rivers of shadow. Holmes stood by the window, his silhouette cut sharply
                                    against the gaslight outside.</p>
                                <p class="mb-4">"You see, Watson," he murmured, without turning around. "The absence of
                                    evidence is not the evidence of absence."</p>
                            </div>
                            <div id="mockup-sidebar"
                                class="w-1/3 bg-orange-50/50 dark:bg-orange-900/10 border-l border-orange-100 dark:border-orange-900/30 p-3 hidden sm:block transition-all duration-500">
                                <div
                                    class="bg-white dark:bg-surface-dark rounded border border-orange-100 dark:border-orange-900/30 p-2 mb-2 shadow-sm">
                                    <div class="flex items-center gap-1 mb-1">
                                        <span class="w-2 h-2 bg-orange-400 rounded-full"></span>
                                        <h5 class="text-[10px] font-bold uppercase text-gray-500 dark:text-gray-400">
                                            Tone Suggestion</h5>
                                    </div>
                                    <p class="text-[10px] text-gray-600 dark:text-gray-400 leading-tight">Consider
                                        increasing the pacing here. The dialogue is snappy, but the descriptive beats
                                        are slowing down the tension.</p>
                                </div>
                                <div
                                    class="bg-white dark:bg-surface-dark rounded border border-gray-100 dark:border-gray-700 p-2 shadow-sm">
                                    <div class="flex items-center gap-1 mb-1">
                                        <span class="material-icons-outlined text-[12px] text-blue-500">person</span>
                                        <h5 class="text-[10px] font-bold text-gray-700 dark:text-gray-300">Sherlock
                                            Holmes</h5>
                                    </div>
                                    <div class="bg-gray-50 dark:bg-gray-800 rounded px-1.5 py-1 mb-1">
                                        <span class="text-[9px] text-gray-500 dark:text-gray-400 block">Status:
                                            Agitated</span>
                                    </div>
                                    <div class="bg-gray-50 dark:bg-gray-800 rounded px-1.5 py-1">
                                        <span class="text-[9px] text-gray-500 dark:text-gray-400 block">Loc: 221B Baker
                                            St</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Mentor Relationship Drawer -->
    <div id="mentor-drawer"
        class="fixed top-0 right-0 w-80 md:w-96 h-full bg-white dark:bg-surface-dark shadow-2xl transform translate-x-full transition-transform duration-500 z-[100] overflow-y-auto border-l border-gray-200 dark:border-border-dark selection:bg-accent/30">
        <div
            class="p-5 border-b border-gray-100 dark:border-gray-800 flex justify-between items-center sticky top-0 bg-white/80 dark:bg-surface-dark/80 backdrop-blur-md z-10">
            <h3 class="font-bold text-sm uppercase tracking-widest text-gray-500 dark:text-gray-400">Relationship
                Insight
            </h3>
            <button id="close-mentor-drawer"
                class="w-8 h-8 rounded-full flex items-center justify-center hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-400">
                <span class="material-icons-outlined">close</span>
            </button>
        </div>
        <div class="p-8">
            <!-- Overlapping Avatars -->
            <div class="flex justify-center items-center mb-8 h-20 relative">
                <div class="absolute left-1/2 -translate-x-12 z-10">
                    <img src="{% static 'img/Agnes.png' %}" alt="Agnes"
                        class="w-16 h-16 rounded-full border-4 border-white dark:border-surface-dark shadow-lg object-cover">
                </div>
                <div class="absolute left-1/2 -translate-x-4 z-20">
                    <div
                        class="bg-accent text-primary text-[10px] font-bold px-2 py-0.5 rounded-full shadow-sm border border-white/50">
                        MENTOR
                    </div>
                </div>
                <div class="absolute left-1/2 translate-x-4 z-10">
                    <img src="{% static 'img/Lucius-Temple.png' %}" alt="Lucius"
                        class="w-16 h-16 rounded-full border-4 border-white dark:border-surface-dark shadow-lg object-cover">
                </div>
            </div>

            <div class="text-center mb-10">
                <h4 class="text-2xl font-serif text-primary dark:text-white mb-1">Mentor</h4>
                <p class="text-xs text-gray-500 dark:text-gray-400">Beneath the surface of the Temple Dynasty</p>

                <div class="flex gap-2 justify-center mt-4">
                    <span
                        class="text-[9px] px-2 py-0.5 rounded-full bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 border border-green-100 dark:border-green-800 font-bold uppercase">Active</span>
                    <span
                        class="text-[9px] px-2 py-0.5 rounded-full bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 border border-blue-100 dark:border-blue-800 font-bold uppercase">Publicly
                        Known</span>
                    <span
                        class="text-[9px] px-2 py-0.5 rounded-full bg-primary text-white font-bold uppercase italic">8/10
                        Intensity</span>
                </div>
            </div>

            <div class="space-y-6">
                <!-- Narrative Arc -->
                <div class="p-5 rounded-2xl bg-gray-50 dark:bg-gray-800/50 border border-gray-100 dark:border-gray-700">
                    <h5
                        class="text-[10px] font-bold uppercase tracking-widest text-gray-400 mb-3 flex items-center gap-2">
                        <span class="material-icons-outlined text-xs">timeline</span> Narrative Arc
                    </h5>
                    <p class="text-sm text-gray-600 dark:text-gray-400 leading-relaxed font-serif italic">
                        "The transmission of logic from father to daughter is rarely a straight line; it is a series of
                        encrypted handshakes."
                    </p>
                    <p class="mt-3 text-xs text-gray-500 dark:text-gray-500 leading-relaxed">
                        Lucius provides Agnes with the "unrestricted" data paths she needs for her investigation,
                        operating through encrypted shadows while maintaining a cold, formal patriarch facade.
                    </p>
                </div>

                <!-- Deep Intelligence -->
                <div class="space-y-3">
                    <div
                        class="p-3 rounded-xl bg-blue-50/50 dark:bg-blue-900/10 border border-blue-100/50 dark:border-blue-800/30">
                        <h6
                            class="text-[9px] font-bold text-blue-600 dark:text-blue-400 uppercase tracking-tighter mb-1">
                            Shared Secret</h6>
                        <p class="text-[11px] text-gray-600 dark:text-gray-400 italic">"The true archives of Project
                            Gilded Cage remain hidden in the residency cellar."</p>
                    </div>

                    <div
                        class="p-3 rounded-xl bg-orange-50/50 dark:bg-orange-900/10 border border-orange-100/50 dark:border-orange-800/30">
                        <h6
                            class="text-[9px] font-bold text-orange-600 dark:text-orange-400 uppercase tracking-tighter mb-1">
                            Core Friction</h6>
                        <p class="text-[11px] text-gray-600 dark:text-gray-400">Lucius demands 'Structured' resolution
                            while Agnes pursues 'Unstructured' truth.</p>
                    </div>

                    <div
                        class="p-3 rounded-xl bg-red-50/50 dark:bg-red-900/10 border border-red-100/50 dark:border-red-800/30">
                        <h6 class="text-[9px] font-bold text-red-600 dark:text-red-400 uppercase tracking-tighter mb-1">
                            Mutual Vulnerability</h6>
                        <p class="text-[11px] text-gray-600 dark:text-gray-400">The Temple family reputation is tied to
                            the success of the case.</p>
                    </div>
                </div>

                <!-- Forecast -->
                <div class="p-5 rounded-2xl bg-primary text-white dark:bg-white dark:text-primary">
                    <div class="flex items-center gap-2 mb-2">
                        <span class="material-icons-outlined text-sm">auto_awesome</span>
                        <span class="text-[10px] font-bold uppercase tracking-widest opacity-70">AI Prediction</span>
                    </div>
                    <p class="text-xs leading-relaxed">Their relationship is reaching a breaking point. One will soon
                        have to sacrifice their principles for the other's safety.</p>
                </div>
            </div>
        </div>
    </div>
    <section class="py-24 bg-background-light dark:bg-background-dark">
        <div class="reveal slide-up max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <span class="material-icons-outlined text-4xl text-yellow-500 mb-8 opacity-50">format_quote</span>
            <blockquote class="text-3xl md:text-4xl font-serif text-primary dark:text-white leading-tight mb-10">
                "Story Timeline Builder didn't just help me finish my trilogy; it helped me keep track of 40 characters
                across three generations without a single spreadsheet. It's indispensable."
            </blockquote>
            <div class="flex items-center justify-center gap-4">
                <img src="{% static 'img/Elena.webp' %}" alt="Elena R. Vance"
                    class="w-12 h-12 rounded-full object-cover shadow-sm bg-gray-100">
                <div class="text-left">
                    <div class="font-bold text-primary dark:text-white">Elena R. Vance</div>
                    <div class="text-sm text-gray-500 dark:text-gray-400">Bestselling Fantasy Author</div>
                </div>
            </div>
        </div>
    </section>
    <section class="py-24 bg-white dark:bg-surface-dark">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2 class="text-5xl md:text-6xl font-serif text-primary dark:text-white mb-6">Ready to tell your story?</h2>
            <p class="text-xl text-gray-600 dark:text-gray-400 mb-10">Join 15,000+ writers who have found their flow.
            </p>
            <div class="flex flex-col sm:flex-row justify-center items-center gap-4 mb-6">
                <a class="bg-primary text-white dark:bg-white dark:text-primary px-8 py-4 rounded-full font-bold text-lg hover:opacity-90 transition-opacity shadow-md w-full sm:w-auto"
                    href="{% url 'login' %}">
                    Start Writing Now
                </a>
                <a class="bg-transparent border border-gray-300 dark:border-gray-600 text-primary dark:text-white px-8 py-4 rounded-full font-bold text-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors w-full sm:w-auto"
                    href="#">
                    View Pricing
                </a>
            </div>
            <p class="text-xs text-gray-400 dark:text-gray-500">No credit card required for 3-day trial.</p>
        </div>
    </section>
    <footer
        class="bg-background-light dark:bg-background-dark pt-20 pb-10 border-t border-gray-200 dark:border-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-8 mb-16">
                <div class="col-span-2 lg:col-span-2">
                    <div class="flex items-center mb-4">
                        <img src="{% static 'img/logo.webp' %}" alt="Story Timeline Builder"
                            style="height: 3.5rem; width: auto;">
                    </div>
                    <p class="text-sm text-gray-500 dark:text-gray-400 max-w-xs mb-6">
                        Empowering storytellers with tools for planning, drafting, and world-building.
                    </p>
                </div>
                <div>
                    <h4 class="font-bold text-primary dark:text-white mb-4">Product</h4>
                    <ul class="space-y-3 text-sm text-gray-600 dark:text-gray-400">
                        <li><a class="hover:text-primary dark:hover:text-white" href="#">Features</a></li>
                        <li><a class="hover:text-primary dark:hover:text-white" href="#">Pricing</a></li>
                        <li><a class="hover:text-primary dark:hover:text-white" href="#">Changelog</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold text-primary dark:text-white mb-4">Resources</h4>
                    <ul class="space-y-3 text-sm text-gray-600 dark:text-gray-400">
                        <li><a class="hover:text-primary dark:hover:text-white" href="#">Community</a></li>
                        <li><a class="hover:text-primary dark:hover:text-white" href="#">Help Center</a></li>
                        <li><a class="hover:text-primary dark:hover:text-white" href="#">Blog</a></li>
                        <li><a class="hover:text-primary dark:hover:text-white" href="#">Writers Guide</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold text-primary dark:text-white mb-4">Legal</h4>
                    <ul class="space-y-3 text-sm text-gray-600 dark:text-gray-400">
                        <li><a class="hover:text-primary dark:hover:text-white" href="#">Privacy Policy</a></li>
                        <li><a class="hover:text-primary dark:hover:text-white" href="#">Terms of Service</a></li>
                        <li><a class="hover:text-primary dark:hover:text-white" href="#">Cookie Policy</a></li>
                    </ul>
                </div>
            </div>
            <div
                class="border-t border-gray-200 dark:border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center gap-4">
                <p class="text-sm text-gray-500 dark:text-gray-400">Â© 2026 Story Timeline Builder. All rights reserved.
                </p>
                <div class="flex gap-4 text-gray-400">
                    <a class="hover:text-primary dark:hover:text-white transition-colors" href="#"><span
                            class="material-icons-outlined">flutter_dash</span></a>
                    <a class="hover:text-primary dark:hover:text-white transition-colors" href="#"><span
                            class="material-icons-outlined">code</span></a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Character Insight Drawer (Slides in from right) -->
    <div id="agnes-drawer"
        class="fixed top-0 right-0 w-80 md:w-96 h-full bg-white dark:bg-surface-dark shadow-2xl transform translate-x-full transition-transform duration-500 z-[100] overflow-y-auto border-l border-gray-200 dark:border-border-dark selection:bg-accent/30">
        <!-- Header -->
        <div
            class="p-5 border-b border-gray-100 dark:border-gray-800 flex justify-between items-center sticky top-0 bg-white/80 dark:bg-surface-dark/80 backdrop-blur-md z-10">
            <h3 class="font-bold text-sm uppercase tracking-widest text-gray-500 dark:text-gray-400">Codex: Character
                Insight</h3>
            <button id="close-drawer"
                class="w-8 h-8 rounded-full flex items-center justify-center hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-400">
                <span class="material-icons-outlined">close</span>
            </button>
        </div>

        <!-- Content -->
        <div class="p-8">
            <div class="flex items-center gap-6 mb-10">
                <div class="relative">
                    <div
                        class="w-20 h-20 rounded-2xl bg-accent overflow-hidden shadow-sm rotate-3 border-4 border-white dark:border-gray-800">
                        <img src="{% static 'img/Agnes.png' %}" alt="Agnes Temple Portrait"
                            class="w-full h-full object-cover">
                    </div>
                    <div
                        class="absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 border-4 border-white dark:border-surface-dark rounded-full">
                    </div>
                </div>
                <div>
                    <h4 class="text-2xl font-serif text-primary dark:text-white leading-none mb-2">Agnes Temple</h4>
                    <div class="flex items-center gap-2">
                        <span
                            class="text-[10px] font-bold uppercase tracking-widest bg-gray-100 dark:bg-gray-800 px-2 py-0.5 rounded text-gray-500">Protagonist</span>
                        <span class="text-[10px] font-bold uppercase tracking-widest text-blue-500">Book 1</span>
                    </div>
                </div>
            </div>

            <div class="space-y-8">
                <div class="reveal slide-up active">
                    <h5
                        class="text-[10px] font-bold uppercase tracking-[0.2em] text-gray-400 mb-3 border-b border-gray-100 dark:border-gray-800 pb-1">
                        Core Motivation</h5>
                    <p class="text-base text-gray-600 dark:text-gray-400 leading-relaxed font-serif italic">
                        "I am not my father's legacy. I am the silence that follows his noise."
                    </p>
                    <p class="mt-4 text-sm text-gray-600 dark:text-gray-400">
                        Agnes seeks to prove her intellectual independence from the Temple dynasty by solving the
                        'Gilded Cage' case using methods her father would deem 'unstructured.'
                    </p>
                </div>

                <div class="reveal slide-up active delay-100">
                    <h5
                        class="text-[10px] font-bold uppercase tracking-[0.2em] text-gray-400 mb-4 border-b border-gray-100 dark:border-gray-800 pb-1">
                        Relationship Pulse</h5>
                    <div class="space-y-4">
                        <div
                            class="group p-4 rounded-xl bg-background-light dark:bg-gray-800/50 border border-transparent hover:border-accent dark:hover:border-yellow-900/30 transition-all cursor-default">
                            <div class="flex justify-between items-center mb-2">
                                <div class="flex items-center gap-2">
                                    <div class="w-6 h-6 rounded bg-gray-200 dark:bg-gray-700"></div>
                                    <span class="text-sm font-bold text-primary dark:text-white">Leo Vance</span>
                                </div>
                                <span
                                    class="text-[8px] px-2 py-0.5 rounded-full bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 uppercase font-bold tracking-tighter">Complicated</span>
                            </div>
                            <div class="w-full bg-gray-200 dark:bg-gray-700 h-1 rounded-full overflow-hidden mb-2">
                                <div class="bg-orange-400 h-full w-[75%]"></div>
                            </div>
                            <p class="text-[11px] text-gray-500 leading-snug">Intellectual rivals since the London
                                Academy. Leo keeps his discovery of the antidote secret from her.</p>
                        </div>

                        <div
                            class="group p-4 rounded-xl bg-background-light dark:bg-gray-800/50 border border-transparent hover:border-accent dark:hover:border-yellow-900/30 transition-all cursor-default">
                            <div class="flex justify-between items-center mb-2">
                                <div class="flex items-center gap-2">
                                    <div class="w-6 h-6 rounded bg-gray-200 dark:bg-gray-700"></div>
                                    <span class="text-sm font-bold text-primary dark:text-white">The Curator</span>
                                </div>
                                <span
                                    class="text-[8px] px-2 py-0.5 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 uppercase font-bold tracking-tighter">Mentor</span>
                            </div>
                            <div class="w-full bg-gray-200 dark:bg-gray-700 h-1 rounded-full overflow-hidden mb-2">
                                <div class="bg-blue-400 h-full w-[90%]"></div>
                            </div>
                            <p class="text-[11px] text-gray-500 leading-snug">The only person Agnes truly trusts. He
                                provides the contextual breadcrumbs that fuel her investigation.</p>
                        </div>
                    </div>
                </div>

                <div class="p-6 rounded-2xl bg-primary text-white dark:bg-white dark:text-primary mt-12">
                    <div class="flex items-center gap-2 mb-2">
                        <span class="material-icons-outlined text-sm">auto_awesome</span>
                        <span class="text-[10px] font-bold uppercase tracking-widest opacity-70">AI Ghostwriter
                            Prediction</span>
                    </div>
                    <p class="text-xs leading-relaxed">Based on current beats, Agnes is likely to betray The Curator in
                        Chapter 14 to save Leo. This creates a major emotional pivot point.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Lucius Temple Insight Drawer -->
    <div id="lucius-drawer"
        class="fixed top-0 right-0 w-80 md:w-96 h-full bg-white dark:bg-surface-dark shadow-2xl transform translate-x-full transition-transform duration-500 z-[100] overflow-y-auto border-l border-gray-200 dark:border-border-dark selection:bg-accent/30">
        <!-- Header -->
        <div
            class="p-5 border-b border-gray-100 dark:border-gray-800 flex justify-between items-center sticky top-0 bg-white/80 dark:bg-surface-dark/80 backdrop-blur-md z-10">
            <h3 class="font-bold text-sm uppercase tracking-widest text-gray-500 dark:text-gray-400">Codex: Character
                Insight</h3>
            <button id="close-lucius-drawer"
                class="w-8 h-8 rounded-full flex items-center justify-center hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-400">
                <span class="material-icons-outlined">close</span>
            </button>
        </div>

        <!-- Content -->
        <div class="p-8">
            <div class="flex items-center gap-6 mb-10">
                <div class="relative">
                    <div
                        class="w-20 h-20 rounded-2xl bg-accent overflow-hidden shadow-sm rotate-3 border-4 border-white dark:border-gray-800">
                        <img src="{% static 'img/Lucius-Temple.png' %}" alt="Lucius Temple Portrait"
                            class="w-full h-full object-cover">
                    </div>
                </div>
                <div>
                    <h4 class="text-2xl font-serif text-primary dark:text-white leading-none mb-2">Lucius Temple</h4>
                    <div class="flex items-center gap-2">
                        <span
                            class="text-[10px] font-bold uppercase tracking-widest bg-gray-100 dark:bg-gray-800 px-2 py-0.5 rounded text-gray-500">Antagonist
                            / Patriarch</span>
                        <span class="text-[10px] font-bold uppercase tracking-widest text-red-500">Book 1</span>
                    </div>
                </div>
            </div>

            <div class="space-y-8">
                <div class="reveal slide-up active">
                    <h5
                        class="text-[10px] font-bold uppercase tracking-[0.2em] text-gray-400 mb-3 border-b border-gray-100 dark:border-gray-800 pb-1">
                        Core Motivation</h5>
                    <p class="text-base text-gray-600 dark:text-gray-400 leading-relaxed font-serif italic">
                        "The truth is not a luxury; it is a weapon. And I have spent my life forging it."
                    </p>
                    <p class="mt-4 text-sm text-gray-600 dark:text-gray-400">
                        Lucius believes that order must be maintained at any cost. His meticulous archiving of the
                        city's secrets has made him both the most respected and the most feared man in London.
                    </p>
                </div>

                <div class="reveal slide-up active delay-100">
                    <h5
                        class="text-[10px] font-bold uppercase tracking-[0.2em] text-gray-400 mb-4 border-b border-gray-100 dark:border-gray-800 pb-1">
                        Relationship Pulse</h5>
                    <div class="space-y-4">
                        <div
                            class="group p-4 rounded-xl bg-background-light dark:bg-gray-800/50 border border-transparent hover:border-accent dark:hover:border-yellow-900/30 transition-all cursor-default">
                            <div class="flex justify-between items-center mb-2">
                                <div class="flex items-center gap-2">
                                    <div class="w-6 h-6 rounded bg-gray-200 dark:bg-gray-700"></div>
                                    <span class="text-sm font-bold text-primary dark:text-white">Agnes Temple</span>
                                </div>
                                <span
                                    class="text-[8px] px-2 py-0.5 rounded-full bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 uppercase font-bold tracking-tighter">Strained</span>
                            </div>
                            <div class="w-full bg-gray-200 dark:bg-gray-700 h-1 rounded-full overflow-hidden mb-2">
                                <div class="bg-red-400 h-full w-[40%]"></div>
                            </div>
                            <p class="text-[11px] text-gray-500 leading-snug">His daughter. He sees her rebellion as a
                                threat to the Temple legacy, yet secretly admires her intuition.</p>
                        </div>
                    </div>
                </div>

                <div class="p-6 rounded-2xl bg-primary text-white dark:bg-white dark:text-primary mt-12">
                    <div class="flex items-center gap-2 mb-2">
                        <span class="material-icons-outlined text-sm">auto_awesome</span>
                        <span class="text-[10px] font-bold uppercase tracking-widest opacity-70">AI Ghostwriter
                            Prediction</span>
                    </div>
                    <p class="text-xs leading-relaxed">Lucius is likely to reveal the true nature of the 'Gilded Cage'
                        to Agnes in Chapter 22, forcing her to choose between truth and familial loyalty.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Intersection Observer for Reveal Animations
        document.addEventListener('DOMContentLoaded', () => {
            const observerOptions = {
                threshold: 0.15,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('active');
                        // Optional: Unobserve after animating
                        // observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);

            const revealElements = document.querySelectorAll('.reveal');
            revealElements.forEach(el => observer.observe(el));

            // Nav Scroll Logic
            const nav = document.getElementById('main-nav');
            const handleScroll = () => {
                if (window.scrollY > 10) {
                    nav.classList.add('scrolled');
                } else {
                    nav.classList.remove('scrolled');
                }
            };
            window.addEventListener('scroll', handleScroll);
            handleScroll(); // Initial check

            // Theme Toggle Demo Logic
            const themeBtn = document.getElementById('theme-toggle-btn');
            const zenBtn = document.getElementById('zen-mode-btn');
            const mockup = document.getElementById('writing-pad-mockup');
            const sidebar = document.getElementById('mockup-sidebar');

            if (themeBtn && mockup) {
                themeBtn.addEventListener('click', () => {
                    mockup.classList.toggle('dark');
                });
            }

            if (zenBtn && mockup) {
                zenBtn.addEventListener('click', () => {
                    mockup.classList.toggle('zen-mode-active');
                });
            }

            // Relationship Drawer Toggle
            const agnesHotspot = document.getElementById('agnes-hotspot');
            const luciusHotspot = document.getElementById('lucius-hotspot');
            const mentorLabel = document.getElementById('mentor-label');

            const closeDrawer = document.getElementById('close-drawer');
            const closeLuciusDrawer = document.getElementById('close-lucius-drawer');
            const closeMentorDrawer = document.getElementById('close-mentor-drawer');

            const agnesDrawer = document.getElementById('agnes-drawer');
            const luciusDrawer = document.getElementById('lucius-drawer');
            const mentorDrawer = document.getElementById('mentor-drawer');

            const closeAllDrawers = () => {
                if (agnesDrawer) agnesDrawer.classList.add('translate-x-full');
                if (luciusDrawer) luciusDrawer.classList.add('translate-x-full');
                if (mentorDrawer) mentorDrawer.classList.add('translate-x-full');
                document.body.classList.remove('drawer-open');
            };

            if (agnesHotspot && agnesDrawer) {
                agnesHotspot.addEventListener('click', (e) => {
                    e.stopPropagation();
                    closeAllDrawers();
                    document.body.classList.add('drawer-open');
                    agnesDrawer.classList.remove('translate-x-full');
                });
            }

            if (luciusHotspot && luciusDrawer) {
                luciusHotspot.addEventListener('click', (e) => {
                    e.stopPropagation();
                    closeAllDrawers();
                    document.body.classList.add('drawer-open');
                    luciusDrawer.classList.remove('translate-x-full');
                });
            }

            if (mentorLabel && mentorDrawer) {
                mentorLabel.addEventListener('click', (e) => {
                    e.stopPropagation();
                    closeAllDrawers();
                    document.body.classList.add('drawer-open');
                    mentorDrawer.classList.remove('translate-x-full');
                });
            }

            if (closeDrawer) closeDrawer.addEventListener('click', closeAllDrawers);
            if (closeLuciusDrawer) closeLuciusDrawer.addEventListener('click', closeAllDrawers);
            if (closeMentorDrawer) closeMentorDrawer.addEventListener('click', closeAllDrawers);

            // Close on outside click
            document.addEventListener('click', (e) => {
                if (document.body.classList.contains('drawer-open')) {
                    const hotspotClicked = (agnesHotspot && agnesHotspot.contains(e.target)) ||
                        (luciusHotspot && luciusHotspot.contains(e.target)) ||
                        (mentorLabel && mentorLabel.contains(e.target));

                    const drawerClicked = (agnesDrawer && agnesDrawer.contains(e.target)) ||
                        (luciusDrawer && luciusDrawer.contains(e.target)) ||
                        (mentorDrawer && mentorDrawer.contains(e.target));

                    if (!hotspotClicked && !drawerClicked) {
                        closeAllDrawers();
                    }
                }
            });
        });
    </script>

</body>

</html>